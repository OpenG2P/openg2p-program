<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">
    <t t-name="g2p_program_reg_info_tpl">
        <t t-if="!state.editingMode">
            <t t-set="jsonToRender" t-value="this.renderjson()" />
            <t t-call="g2p_program_reg_info_table_tpl" />
            <button
                class="btn btn-success"
                name="g2p_program_reg_info_edit_button"
                t-on-click="editButtonClick"
            >Edit</button>
        </t>
        <t t-else="">
            <t t-call="web.TextField" />
            <br />
            <button
                class="btn btn-success"
                name="g2p_program_reg_info_save_button"
                t-on-click="doneButtonClick"
            >Done</button>
        </t>
    </t>
    <t t-name="g2p_program_reg_info_table_tpl">
        <table class="o_group o_inner_group table table-bordered" border="1" style="border-collapse:collapse">
            <tbody>
                <t t-set="isArray" t-value="Array.isArray(jsonToRender)" />
                <t t-foreach="Object.entries(jsonToRender)" t-as="key" t-key="key[0]">
                    <tr>
                        <t t-if="!isArray">
                            <td class="o_td_label">
                                <label class="o_form_label">
                                    <strong>
                                        <t t-esc="key[0]" />
                                    </strong>
                                </label>
                            </td>
                        </t>
                        <td>
                            <t t-if="typeof key[1] === 'object' || Array.isArray(key[1])">
                                <t t-set="jsonToRender" t-value="key[1]" />
                                <t t-call="g2p_program_reg_info_table_tpl" />
                            </t>
                            <t t-else="">
                                <span class="o_field_widget">
                                    <t t-esc="key[1]" />
                                </span>
                            </t>
                        </td>
                    </tr>
                </t>
            </tbody>
        </table>
    </t>
</templates>
